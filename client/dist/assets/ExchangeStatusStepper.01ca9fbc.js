import{a as e,j as s,B as i,T as t,aj as a,a0 as n,P as r,aR as l,ah as o,aS as c,X as d,I as x,aw as h,aT as j,aU as p,aV as m,aW as g,aX as u,aY as b,q as v,ad as y,W as f,aZ as C,a_ as k}from"./vendor.17cb6192.js";const S={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:"90vw",maxHeight:"90vh",bgcolor:"background.paper",boxShadow:24,p:0,outline:"none",borderRadius:1,display:"flex",flexDirection:"column"},w=({images:m=[],title:g="Product Images",showTitle:u=!0,maxHeight:b=300,columns:v=3,emptyMessage:y="No images available"})=>{const[f,C]=e.useState(!1),[k,w]=e.useState(0),A=()=>{C(!1)};return m&&0!==m.length?s.jsxs(i,{children:[u&&s.jsx(t,{variant:"subtitle1",gutterBottom:!0,children:g}),s.jsx(i,{sx:{maxHeight:b,overflow:"auto",mb:2},children:s.jsx(n,{container:!0,spacing:1,children:m.map(((e,i)=>s.jsx(n,{item:!0,xs:12/v,children:s.jsx(r,{children:s.jsx(l,{onClick:()=>(e=>{w(e),C(!0)})(i),children:s.jsx(o,{component:"img",height:100,image:e.url,alt:`Product image ${i+1}`,sx:{objectFit:"cover"}})})})},i)))})}),s.jsx(c,{open:f,onClose:A,"aria-labelledby":"image-modal-title",children:s.jsxs(d,{sx:S,children:[s.jsx(i,{sx:{display:"flex",justifyContent:"flex-end",p:1},children:s.jsx(x,{onClick:A,size:"small",children:s.jsx(h,{})})}),s.jsxs(i,{sx:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",p:1},children:[s.jsx("img",{src:m[k].url,alt:`Product view ${k+1}`,style:{maxWidth:"100%",maxHeight:"70vh",display:"block"}}),m.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(x,{onClick:e=>{e.stopPropagation(),w((e=>0===e?m.length-1:e-1))},sx:{position:"absolute",left:8,bgcolor:"rgba(255, 255, 255, 0.7)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.9)"}},children:s.jsx(j,{})}),s.jsx(x,{onClick:e=>{e.stopPropagation(),w((e=>(e+1)%m.length))},sx:{position:"absolute",right:8,bgcolor:"rgba(255, 255, 255, 0.7)","&:hover":{bgcolor:"rgba(255, 255, 255, 0.9)"}},children:s.jsx(p,{})})]})]}),s.jsx(i,{sx:{p:2,textAlign:"center"},children:s.jsxs(t,{variant:"body2",color:"text.secondary",children:["Image ",k+1," of ",m.length]})})]})})]}):s.jsxs(i,{children:[u&&s.jsx(t,{variant:"subtitle1",gutterBottom:!0,children:g}),s.jsxs(i,{sx:{border:"1px dashed #ccc",borderRadius:1,p:3,textAlign:"center",color:"text.secondary"},children:[s.jsx(a,{sx:{fontSize:40,opacity:.5,mb:1}}),s.jsx(t,{variant:"body2",children:y})]})]})},A=({exchange:e,isAdmin:a=!1,onShippingClick:n,onReceiveClick:r,onCreditClick:l,onCompleteClick:o})=>{if(!e)return null;const c=(e=>e?"completed"===e.status?4:e.creditAmount>0?3:"received"===e.transitStatus?2:"shipping"===e.transitStatus||e.shippingDetails?1:(e.status,0):0)(e);return s.jsx(i,{sx:{width:"100%"},children:s.jsxs(m,{activeStep:c,orientation:"vertical",children:[s.jsxs(g,{children:[s.jsx(u,{children:s.jsx(t,{variant:"subtitle1",children:"Review & Approval"})}),s.jsxs(b,{children:[s.jsx(t,{variant:"body2",color:"text.secondary",children:"approved"===e.status?"This request has been approved.":"pending"===e.status?"Request is under review by our team.":"This request was declined."}),e.adminFeedback&&s.jsx(d,{variant:"outlined",sx:{p:1,mt:1,bgcolor:"#f9f9f9"},children:s.jsxs(t,{variant:"body2",sx:{fontStyle:"italic"},children:["Admin feedback: ",e.adminFeedback]})})]})]}),s.jsxs(g,{children:[s.jsx(u,{children:s.jsx(t,{variant:"subtitle1",children:"Shipping"})}),s.jsx(b,{children:"approved"===e.status&&s.jsx(s.Fragment,{children:e.shippingDetails?s.jsxs(s.Fragment,{children:[s.jsx(t,{variant:"body2",color:"text.secondary",children:"Item has been shipped."}),s.jsxs(i,{sx:{mt:1},children:[s.jsxs(t,{variant:"body2",children:[s.jsx("strong",{children:"Carrier:"})," ",e.shippingDetails.carrierName]}),s.jsxs(t,{variant:"body2",children:[s.jsx("strong",{children:"Tracking:"})," ",e.shippingDetails.trackingNumber]}),s.jsxs(t,{variant:"body2",children:[s.jsx("strong",{children:"Shipped on:"})," ",new Date(e.shippingDetails.shippingDate).toLocaleDateString()]})]}),a&&r&&"received"!==e.transitStatus&&s.jsx(v,{variant:"outlined",size:"small",startIcon:s.jsx(f,{}),onClick:r,sx:{mt:1},children:"Mark as Received"})]}):s.jsxs(s.Fragment,{children:[s.jsx(t,{variant:"body2",color:"text.secondary",children:"Please ship your item and provide shipping details."}),!a&&n&&s.jsx(v,{variant:"outlined",size:"small",startIcon:s.jsx(y,{}),onClick:n,sx:{mt:1},children:"Submit Shipping Details"})]})})})]}),s.jsxs(g,{children:[s.jsx(u,{children:s.jsx(t,{variant:"subtitle1",children:"Inspection & Valuation"})}),s.jsx(b,{children:"received"===e.transitStatus?s.jsxs(s.Fragment,{children:[s.jsx(t,{variant:"body2",color:"text.secondary",children:"Your item is being inspected to determine its value."}),a&&l&&!e.creditAmount&&s.jsx(v,{variant:"outlined",size:"small",startIcon:s.jsx(C,{}),onClick:l,sx:{mt:1},children:"Assign Credit"})]}):s.jsx(t,{variant:"body2",color:"text.secondary",children:"This step will be available once your item has been received."})})]}),s.jsxs(g,{children:[s.jsx(u,{children:s.jsx(t,{variant:"subtitle1",children:"Credit Assignment"})}),s.jsx(b,{children:e.creditAmount>0?s.jsxs(s.Fragment,{children:[s.jsx(t,{variant:"body2",color:"text.secondary",children:"Credit has been assigned to your account."}),s.jsxs(t,{variant:"subtitle1",sx:{mt:1,color:"success.main",fontWeight:"bold"},children:["$",e.creditAmount.toFixed(2)]}),a&&o&&"completed"!==e.status&&s.jsx(v,{variant:"outlined",size:"small",startIcon:s.jsx(k,{}),onClick:o,sx:{mt:1},children:"Complete Exchange"})]}):s.jsx(t,{variant:"body2",color:"text.secondary",children:"This step will be available once your item has been valued."})})]}),s.jsxs(g,{children:[s.jsx(u,{children:s.jsx(t,{variant:"subtitle1",children:"Exchange Complete"})}),s.jsx(b,{children:"completed"===e.status?s.jsxs(t,{variant:"body2",color:"text.secondary",children:["Exchange process has been completed successfully. Your credit of $",e.creditAmount.toFixed(2)," is ready to use."]}):s.jsx(t,{variant:"body2",color:"text.secondary",children:"The exchange will be completed after credit has been assigned."})})]})]})})};export{A as E,w as I};
